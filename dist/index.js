!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=6)}([function(r,e){r.exports=require("path")},function(r,e){r.exports=require("fs")},function(r,e){r.exports=require("os")},function(r,e){r.exports=require("child_process")},function(r,e){r.exports=require("http")},function(r,e){r.exports=require("https")},function(r,e,t){"use strict";t.r(e);var n=t(1),o=t(2),i=t(0),u=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,i=t.call(r),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};var a=t(3),s=function(){return(s=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)};function c(r,e,t){return void 0===e&&(e=[]),void 0===t&&(t={}),new Promise((function(n,o){var i=Object(a.spawn)(r,e,s({cwd:process.cwd(),shell:"win32"===process.platform,windowsHide:!0,stdio:"inherit"},t));i.on("error",o),i.on("close",(function(r){return 0!==r?o(Error("[Process #"+i.pid+"] Exited with code "+r+".")):n()}))}))}var l=t(4),f=t(5);var p=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,i=t.call(r),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};var d=function(r,e,t,n){return new(t||(t=Promise))((function(o,i){function u(r){try{s(n.next(r))}catch(r){i(r)}}function a(r){try{s(n.throw(r))}catch(r){i(r)}}function s(r){var e;r.done?o(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(u,a)}s((n=n.apply(r,e||[])).next())}))},v=function(r,e){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(r,u)}catch(r){i=[6,r],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};!function(){d(this,void 0,void 0,(function(){var r,e,t,a,s,d;return v(this,(function(v){switch(v.label){case 0:return v.trys.push([0,9,,10]),r=function(r){void 0===r&&(r=[]);var e=r.slice(2).map((function(r){return r.split("=")})).reduce((function(r,e){var t=u(e,2),n=t[0],o=t[1];return r[n]=o,r}),{});return{path:e["--path"]||e["-p"]||"./index.js",run:e["--script"]||e["-s"]||"start"}}(process.argv),[4,n.promises.mkdtemp(i.join(Object(o.tmpdir)(),i.sep))];case 1:return e=v.sent(),t=void 0,/^https?:\/\//.test(r.path)?[4,(h=r.path,new Promise((function(r,e){(h.startsWith("https://")?f.get:l.get)(h,(function(t){if(200!==t.statusCode)return t.resume(),e(Error("Request to "+h+" has Failed (Status Code: "+t.statusCode+")."));t.setEncoding("utf8");var n="";t.on("data",(function(r){return n+=r})),t.on("end",(function(){return r(n)}))})).on("error",(function(r){return e(r)}))})))]:[3,3];case 2:return t=v.sent(),[3,5];case 3:return[4,n.promises.readFile(i.resolve(r.path))];case 4:a=v.sent(),t=a.toString(),v.label=5;case 5:return(s=function(r){var e=p(/\/\*\*!\s*package\.json(?:.|\n)*?(\{(?:.|\n)*\})(?:.|\n)*\*\//.exec(r),2),t=(e[0],e[1]);return JSON.parse(t.replace(/^\s*\*/gm,""))}(t)).scripts=s.scripts||{start:"node ./index.js"},[4,Promise.all([n.promises.writeFile(i.join(e,"./package.json"),JSON.stringify(s)),n.promises.writeFile(i.join(e,"./index.js"),t)])];case 6:return v.sent(),[4,c("npm",["install","."],{cwd:e})];case 7:return v.sent(),[4,c("npm",["run",r.run],{cwd:e})];case 8:return v.sent(),[3,10];case 9:return d=v.sent(),console.error(d),[3,10];case 10:return[2]}var h}))}))}()}]);
//# sourceMappingURL=index.js.map